/*  Base  Theme */
* { box-sizing: border-box; margin:0; padding:0; }
:root{
  --bg:#f4f7fa; --fg:#222; --card:#fff; --muted:#6b7280; --line:#e5e7eb;
  --accentA:#00f2fe; --accentB:#4facfe; --danger:#ff4d4d; --ok:#34d399;
}
body.dark{ --bg:#0f1115; --fg:#eef2f7; --card:#151922; --muted:#9aa0a6; --line:#242a36; }

html,body{
  height:100%;
  background:var(--bg);
  color:var(--fg);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  display:flex;
  flex-direction:column;
}

/* container covers full height */
.container{
  flex:1;
  max-width:1000px;
  margin:0 auto;
  padding:20px 16px;
  min-height:100vh;
  background:var(--bg);
  display:flex;
  flex-direction:column;
}

/*  Header  */
.app-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px;}
.app-header h1{margin:0;font-size:2rem;letter-spacing:.2px;}
.header-actions{display:flex;gap:10px;}

/* Buttons */
button,.btn-like{
  display:inline-flex;align-items:center;justify-content:center;gap:3px;
  padding:6px 10px;border-radius:8px;border:1px solid transparent;
  background:linear-gradient(135deg,var(--accentA),var(--accentB));color:#fff;
  font-weight:300;cursor:pointer;transition:.22s ease; box-shadow:0 6px 16px rgba(0,0,0,.18);
}
button:hover,.btn-like:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(0,0,0,.22);opacity:.98;}
button.plain{background:var(--card);color:var(--fg);border:1px solid var(--line);box-shadow:none;}
button.plain:hover{border-color:var(--accentB);}

/*  Stats / Progress  */
.stats{margin:8px 0 14px;}
.progress-container{width:100%;height:12px;background:var(--line);border-radius:999px;overflow:hidden;}
#progressBar{height:100%;width:0%;background:linear-gradient(135deg,var(--accentA),var(--accentB));transition:width .25s;}
.stats-text{margin-top:6px;color:var(--muted);font-size:.92rem}

/*  Input Bar  */
.task-input{
  display:flex;flex-wrap:wrap;align-items:center;gap:10px;margin:14px 0 10px;
}
.task-input input[type="text"], .task-input input[type="date"], .task-input select{
  flex:1 1 220px; min-width:160px;
  padding:12px 12px;border-radius:12px;border:1px solid var(--line);
  background:var(--card);color:var(--fg);outline:none; transition:border .2s, box-shadow .2s;
}
.task-input input:focus, .task-input select:focus{border-color:var(--accentB); box-shadow:0 0 0 3px rgba(79,172,254,.18);}
.icon-btn{flex:0 0 44px;height:44px;border-radius:12px;background:var(--card);color:var(--fg);
  border:1px solid var(--line);}
#addBtn{flex:0 0 auto;padding:12px 20px;border:none;border-radius:14px;
  background:linear-gradient(135deg,var(--accentA),var(--accentB));color:#fff;font-weight:700}

/* Filters / Sort  */
.filters{display:flex;flex-wrap:wrap;align-items:center;gap:10px;margin:10px 0;}
.filter-buttons{display:flex;gap:8px;}
.filter{
  background:var(--card);color:var(--fg);border:1px solid var(--line);box-shadow:none;
  padding:8px 14px;border-radius:999px;font-weight:600;
}
.filter:hover{border-color:var(--accentB);}
.filter.active{border-color:var(--accentB); box-shadow:0 0 0 3px rgba(79,172,254,.18);}
#searchInput{flex:1 1 260px;min-width:180px;padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:var(--card);color:var(--fg);}
.sort-label select{
  padding:10px;border-radius:12px;border:1px solid var(--line);background:var(--card);color:var(--fg);
}

/*  Task List  */
.task-list{list-style:none;margin:14px 0 8px;padding:0;flex:1;}
.task-item{
  display:grid;grid-template-columns:auto 1fr auto auto auto;gap:10px;align-items:flex-start;
  background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px;margin-bottom:10px;
}
.task-item.dragging{opacity:.6}
.task-main{display:flex;gap:10px;align-items:flex-start}
.task-text{font-weight:700;word-break:break-word}
.task-notes{color:var(--muted);font-size:.92rem;margin-top:2px;white-space:pre-wrap}
.badge{font-size:.78rem;padding:3px 10px;border-radius:999px;border:1px solid var(--line)}
.badge.priority-low{color:#10b981}
.badge.priority-medium{color:#f59e0b}
.badge.priority-high{color:#ef4444;border-color:#ef4444}
.badge.category{color:var(--muted)}
.badge.recurring{color:#6366f1}
.badge.overdue{color:#ef4444}
.actions{display:flex;gap:8px}
.actions button{padding:8px 12px;border-radius:10px;background:var(--card);color:var(--fg);border:1px solid var(--line);box-shadow:none}
.actions button:hover{border-color:var(--accentB)}
.actions .delete{background:linear-gradient(135deg,#ff6b6b,#ff3b3b);color:#fff;border:none}
.actions .delete:hover{box-shadow:0 8px 18px rgba(255,59,59,.35)}

/* Subtasks */
.subtasks{margin:8px 0 0 28px;border-left:2px dashed var(--line);padding-left:12px}
.subtasks li{display:flex;align-items:center;gap:8px;margin:4px 0}
.subtasks input[type="text"]{flex:1}

/*  Footer */
.footer-actions{
  display:flex;flex-wrap:wrap;align-items:center;gap:10px;
  margin-top:auto; 
  padding:16px 0;
  background:var(--bg);
}
#importFile{display:none}
.import-export{display:flex;gap:10px;flex-wrap:wrap;margin-left:auto}
.import-export button,
.import-export .btn-like{background:linear-gradient(135deg,#6366f1,#4f46e5);color:#fff;border:none}
.cloud-sync{display:flex;gap:10px;flex-wrap:wrap}
.cloud-sync button{background:linear-gradient(135deg,#7bd88f,#34d399)}
.cloud-sync button:nth-child(2){background:linear-gradient(135deg,#60a5fa,#3b82f6)}
#clearCompleted{background:linear-gradient(135deg,#f59e0b,#f97316);color:#fff;border:none}

/* Overdue outline for tasks */
.overdue-outline{border-left:4px solid #ef4444}

/*  Responsive  */
@media (max-width: 920px){
  .container{padding:18px 14px}
}
@media (max-width: 720px){
  #addBtn{flex:1 1 100%}
  .icon-btn{flex:0 0 40px;height:40px}
  .task-input input[type="text"], .task-input input[type="date"], .task-input select{flex:1 1 100%}
  .container{min-height:100vh;}
}
/*  Mobile Responsive Fix */
@media (max-width: 600px) {
  body {
    padding: 10px;
  }

  .container {
    width: 100%;
    padding: 0 5px;
  }

 
  input, select, textarea {
    width: 100% !important;
    box-sizing: border-box;
    margin-bottom: 10px;
  }

 
  button {
    width: auto !important;
  }

  
  .top-buttons {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }


  .filter-buttons {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 5px;
  }

  .action-buttons {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .action-buttons button {
    width: 100% !important;
  }

 
  .task-item {
    grid-template-columns: 1fr;
  }
  .actions {
    flex-wrap: wrap;
    gap: 6px;
  }
  .actions button {
    flex: 1 1 45%;
  }
}
